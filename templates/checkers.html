{% extends "base.html" %}

{% block content %}
<div class="container mt-4">
    <h1 class="text-center mb-4">Checkers</h1>

    <!-- Home Screen -->
    <div id="home-screen" class="row justify-content-center">
        <div class="col-md-6">
            <div class="card text-center">
                <div class="card-header bg-primary text-white">
                    <h3 class="mb-0">Classic Checkers</h3>
                </div>
                <div class="card-body">
                    <div class="checkers-logo mb-4">
                        <div class="logo-board">
                            <div class="logo-piece red"></div>
                            <div class="logo-piece black"></div>
                        </div>
                    </div>
                    <button id="play-button" class="btn btn-success btn-lg mb-3">Play Game</button>
                    <button id="settings-button" class="btn btn-info btn-lg">Settings</button>
                </div>
            </div>
        </div>
    </div>

    <!-- Settings Screen -->
    <div id="settings-screen" class="row justify-content-center" style="display: none;">
        <div class="col-md-6">
            <div class="card">
                <div class="card-header bg-info text-white d-flex justify-content-between align-items-center">
                    <h3 class="mb-0">Game Settings</h3>
                    <button id="back-from-settings" class="btn btn-sm btn-light">Back</button>
                </div>
                <div class="card-body">
                    <form id="settings-form">
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="flying-kings" checked>
                            <label class="form-check-label" for="flying-kings">Flying Kings (Kings can move any distance diagonally)</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="backwards-capture" checked>
                            <label class="form-check-label" for="backwards-capture">Backwards Capture (Regular pieces can capture backwards)</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="multiple-capture" checked>
                            <label class="form-check-label" for="multiple-capture">Multiple Capture (Multiple jumps in one turn)</label>
                        </div>
                        <div class="form-check form-switch mb-3">
                            <input class="form-check-input" type="checkbox" id="force-capture" checked>
                            <label class="form-check-label" for="force-capture">Force Capture (Must capture when possible)</label>
                        </div>
                        <button type="button" id="save-settings" class="btn btn-primary">Save Settings</button>
                    </form>
                </div>
            </div>
        </div>
    </div>

    <!-- Game Screen -->
    <div id="game-screen" class="row justify-content-center" style="display: none;">
        <div class="col-lg-8">
            <div class="card mb-4">
                <div class="card-header bg-primary text-white d-flex justify-content-between align-items-center">
                    <h3 class="mb-0">Classic Checkers</h3>
                    <div class="game-info d-flex align-items-center">
                        <span id="current-player" class="me-3">Current Player: Red</span>
                        <button id="back-to-home" class="btn btn-sm btn-light me-2">Home</button>
                        <button id="reset-game" class="btn btn-sm btn-light">New Game</button>
                    </div>
                </div>
                <div class="card-body p-3 text-center">
                    <div id="checkers-board" class="mx-auto"></div>
                    <div id="game-message" class="mt-3 fs-5 fw-bold"></div>
                </div>
            </div>

            <div class="card">
                <div class="card-header bg-secondary text-white d-flex justify-content-between align-items-center">
                    <h4 class="mb-0">How to Play</h4>
                    <button class="btn btn-sm btn-light" id="toggle-rules">Show/Hide</button>
                </div>
                <div class="card-body" id="rules-content">
                    <ul class="list-group list-group-flush" id="rules-list">
                        <li class="list-group-item">Red moves first, then players alternate turns</li>
                        <li class="list-group-item">Pieces move diagonally forward one square</li>
                        <li class="list-group-item">Capture opponent's pieces by jumping over them diagonally</li>
                        <li class="list-group-item" id="rule-force-capture">If a jump is available, you must take it</li>
                        <li class="list-group-item" id="rule-multiple-capture">Multiple jumps in a single turn are allowed and required when possible</li>
                        <li class="list-group-item" id="rule-backwards-capture">Regular pieces cannot capture backwards</li>
                        <li class="list-group-item">When a piece reaches the opponent's back row, it becomes a king</li>
                        <li class="list-group-item" id="rule-flying-kings">Kings can move any distance diagonally if unobstructed</li>
                        <li class="list-group-item">Win by capturing all opponent's pieces or blocking them from moving</li>
                    </ul>
                </div>
            </div>
        </div>
    </div>
</div>

<link rel="stylesheet" href="{{ url_for('static', filename='checkers.css') }}">
<script src="{{ url_for('static', filename='checkers.js') }}"></script>
{% endblock %}